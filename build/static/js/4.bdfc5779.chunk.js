(this["webpackJsonpdw-fazhionz"]=this["webpackJsonpdw-fazhionz"]||[]).push([[4],{197:function(e,t,n){},198:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var a,s,r,c,i=n(2),o=n(7),l=n(1),u=n(18),b=n(3),j=n(11),d=n(84),p=(n(197),n(4)),m=["handleChange","label"],O=function(e){var t=e.handleChange,n=e.label,a=Object(d.a)(e,m);return Object(p.jsxs)("div",{className:"group",children:[Object(p.jsx)("input",Object(u.a)({className:"form-input",onChange:t},a)),n?Object(p.jsx)("label",{className:"".concat(a.value.length?"shrink":""," form-input-label"),children:n}):null]})},h=n(75),x=n(100),f=n(114),w=n(76),g=n(12),v=n(16),y=v.b.div(a||(a=Object(g.a)(["\n    max-width: 440px;\n    display: flex;\n    flex-direction: column;\n\n    &.disabled {\n        pointer-events: none;\n        opacity: 0.5\n    }\n\n    .title {\n        margin: 10px 0;\n    }\n\n    .buttons {\n        position: absolute;\n        display: flex;\n        flex-direction: row;\n        justify-items: space-between;\n        gap: 1em;\n        width: 70%;\n\n        \n\n        @media (width < 540px) {\n            \n            flex-direction: column;\n        }\n\n        span {\n            width: 100%;\n            text-align: center;\n        }\n    } \n\n    .logo {\n        width: 50px;\n        height: 50px;\n    }\n\n     img {\n        object-fit: contain;\n        width: 50px;\n        height: 50px;\n        padding-right: 10px;\n    }\n"]))),N=n(28),C={email:"",password:""},S=function(){var e=Object(i.useState)(C),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(!1),r=Object(j.a)(s,2),c=r[0],d=r[1],m=Object(i.useState)(""),g=Object(j.a)(m,2),v=g[0],S=g[1],k=n.email,P=n.password,I=Object(i.useContext)(f.a).setCurrentUser,U=Object(i.useContext)(w.a).setCartItems,q=function(){d(!c)},E=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Object(N.h)(k,P);case 4:n=e.sent,I(n),U(n.cartItems),console.log("SIGNED IN: "+JSON.stringify(n)+": "+JSON.stringify(n.cartItems)),a(C),e.next=25;break;case 11:e.prev=11,e.t0=e.catch(1),e.t1=e.t0.code,e.next="auth/wrong-password"===e.t1?16:"auth/user-not-found"===e.t1?20:24;break;case 16:return S("Incorrect password for email."),q(),a((function(e){return Object(u.a)(Object(u.a)({},e),{},{password:""})})),e.abrupt("break",25);case 20:return S("User not found."),q(),a(C),e.abrupt("break",25);case 24:console.log("ERROR: "+e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(Object(l.a)().mark((function e(){var t,n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.i)();case 2:return t=e.sent,n=t.user,e.next=6,Object(N.d)(n);case 6:a=e.sent,U(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){var t=e.target,s=t.value,r=t.name;a(Object(u.a)(Object(u.a)({},n),{},Object(o.a)({},r,s)))};return Object(p.jsxs)(i.Fragment,{children:[Object(p.jsxs)(y,{children:[Object(p.jsx)("h3",{className:"maroon",children:"Have an account?"}),Object(p.jsx)("span",{children:"Sign in with your email and password"}),Object(p.jsxs)("form",{onSubmit:E,children:[Object(p.jsx)(O,{type:"email",name:"email",value:k,label:"Email",onChange:D,required:!0}),Object(p.jsx)(O,{type:"password",name:"password",value:P,label:"Password",onChange:D,required:!0}),Object(p.jsxs)("div",{className:"buttons",children:[Object(p.jsx)(h.a,{className:"custom-button",type:"submit",children:"Sign In"}),Object(p.jsxs)(h.a,{buttonType:"google",onClick:G,children:[" ",Object(p.jsx)("div",{className:"logo",children:Object(p.jsx)("img",{src:"../../images/google.png",alt:"Google"})}),"Google"," "]})]})]})]}),Object(p.jsx)(x.a,{show:c,close:q,titleBG:"Alert!",title:v,content:"Please verify the information is correct."})]})},k=v.b.div(s||(s=Object(g.a)(["\n    max-width: 450px;\n"]))),P=v.b.div(r||(r=Object(g.a)(["\n\n"]))),I=v.b.div(c||(c=Object(g.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-items: space-between;\n    gap: 1em;\n\n    @media (width < 540px) {\n        .custom-button {\n            width: 100%;\n        }\n    }\n"]))),U={email:"",password:"",confirmPassword:"",displayName:""},q=function(){var e=Object(i.useState)(U),t=Object(j.a)(e,2),n=t[0],a=t[1],s=n.email,r=n.password,c=n.confirmPassword,d=n.displayName,m=Object(i.useState)(!1),g=Object(j.a)(m,2),v=g[0],y=g[1],C=Object(i.useState)(""),S=Object(j.a)(C,2),q=S[0],E=S[1],G=Object(i.useContext)(f.a),D=G.currentUser,z=G.setCurrentUser,J=Object(i.useContext)(w.a).cartItems,R=function(){y(!v)},A=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var n,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r===c){e.next=5;break}return E("Passwords do not match!"),R(),e.abrupt("return");case 5:return e.prev=5,e.next=8,Object(N.b)(s,r);case 8:return n=e.sent,i=n.user,z(i),e.next=13,Object(N.c)(i,{displayName:d,cartItems:J});case 13:a(U),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),"auth/email-already-in-use"===e.t0.code&&(E("Cannot create user. Email already in use."),R(),a(U)),"auth/weak-password"===e.t0.code?(E("Password must be at least 6 characters."),R(),a(U)):(E("User creation encountered an error."),a(U),console.log("User creation encountered an error",e.t0));case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=e.target,s=t.name,r=t.value;a(Object(u.a)(Object(u.a)({},n),{},Object(o.a)({},s,r)))};return Object(i.useEffect)((function(){a(U)}),[D]),Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)(k,{children:Object(p.jsxs)(P,{children:[Object(p.jsx)("h3",{className:"title maroon",children:"Don't have an account?"}),Object(p.jsx)("span",{children:"Sign up with your email and password"}),Object(p.jsxs)("form",{className:"sign-up-form",onSubmit:A,children:[Object(p.jsx)(O,{type:"text",name:"displayName",value:d,onChange:B,label:"Display Name",required:!0}),Object(p.jsx)(O,{type:"email",autoComplete:"email",name:"email",value:s,onChange:B,label:"Email",required:!0}),Object(p.jsx)(O,{type:"password",autoComplete:"new-password",name:"password",value:r,onChange:B,label:"Password",required:!0}),Object(p.jsx)(O,{type:"password",autoComplete:"new-password",name:"confirmPassword",value:c,onChange:B,label:"Confirm Password",required:!0}),Object(p.jsx)(I,{children:Object(p.jsx)(h.a,{className:"custom-button",type:"submit",onSubmit:A,children:"SIGN UP"})})]})]})}),Object(p.jsx)(x.a,{show:v,close:R,titleBG:"Alert!",title:q,content:"Please try re-entering your information."})]})},E=n(73);n(198),t.default=function(){return Object(p.jsx)(E.a,{children:Object(p.jsxs)("div",{className:"sign-in-and-sign-up",children:[Object(p.jsx)(S,{className:"sign-in"}),Object(p.jsx)(q,{className:"sign-up"})]})})}}}]);
//# sourceMappingURL=4.bdfc5779.chunk.js.map